<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8" />
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
	crossorigin="anonymous" />
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
	crossorigin="anonymous"></script>
<title></title>
</head>
<body>
	<div class="container text-center">
		<h3>부서 등록</h3>
		<form th:action="@{/deptInsert}" method="post" name="insertForm">
			<div class="form-floating mb-3">
				<input id="dname" class="form-control" type="text"
					name="departmentName" /> <label for="dname">부서명</label>
			</div>
			<div class="form-floating mb-3">
				<input id="mgrid" class="form-control" type="int" name="managerId" value="200"/>
				<label for="mgrid">매니저 번호</label>
			</div>
			<div class="form-floating mb-3">
				<input id="loc" class="form-control" type="int" name="locationId" value="1700" />
				<label for="loc">지역 번호</label>
			</div>
			<div>
				<button type="reset" class="btn btn-primary">초기화</button>
				<button type="submit" class="btn btn-secondary">등록</button>
			</div>
		</form>
	</div>

	<script>
	 document
     .querySelector('form[name="insertForm"]')
     .addEventListener("submit", function (event) {
       event.preventDefault();
       let nameTag = document.querySelector('[name="departmentName"]');
       let mgrTag = document.querySelector('[name="managerId"]');
       let locTag = document.querySelector('[name="locationId"]');
       if (nameTag.value == "" || mgrTag == "" || locTag=="") {
         alert("값을 입력해주세요");
         return;
       }

       alert("정상적으로 등록되었습니다.");
       event.currentTarget.submit();
     });
	</script>
</body>
</html>